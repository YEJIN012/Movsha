[ 삼성 청년 SW 아카데미 (SSAFY) 8기 - 1학기 관통프로젝트 ]

# Movsha

### 1. 팀원 정보 및 업무 분담 내역

* 이예진
  * ERD 및 Component 설계
  * 팔로잉 유저 리뷰점수 기반 추천 알고리즘 구현
  * BE
  * FE

* 서유진
  * ERD 및 Component 설계
  * CSS 디자인 설계
  * BE
  * FE

### 2. 목표 서비스 구현 및 실제 구현 정도

* 목표 서비스 구현 (커뮤니티에 더 중점을 둠)
  
  * 백엔드 : 유저간 팔로잉 팔로우, 로그인시 설정할 닉네임과 닉네임 수정, 리뷰와 댓글 작성 기능, 영화와 리뷰와 댓글에 달 좋아요 기능, 프로필 이미지 업로드 및 수정, 
  
  * 프론트 : 다크모드

* 실제 구현 정도
  
  * 백엔드 : 전부 다 구현, 장고 dj-rest-auth 의 기본 회원가입 폼 수정(닉네임 필드 추가), 홈 화면에 유저들이 가장 많이 좋아요를 누른 영화 추천 같이 띄우기,
    유저들간의 소통 DB를 기반으로한 알고리즘 추천까지 구현했습니다.
  
  * 프론트 : 디자인(다크모드 등), 미리 기획해둔 모든 기능을 구현했습니다.

### 3. ERD 및 Component Architecture

![Model_ERD.png](https://user-images.githubusercontent.com/109276824/222263297-b6236724-3a58-4b0d-8124-152d10471ce6.png)

![Comp_ERD.png](https://user-images.githubusercontent.com/109276824/222263637-eafd00da-3a41-4cf0-bc55-5ae5cc68f35d.png)

    

### 4. 영화 추천 알고리즘 로직

1. 내가 팔로우한 사람들이 평점을 가장 높게 준 영화들 순서대로 추천 페이지에 출력
   
   * 추천 페이지가 created되는 시점에 recommend 함수를 실행하여 현재 DB에 저장된 movies를 가져와 그 배열 크기만큼 counting 배열을 만든다.
   
   * 현재 로그인 되어있는 유저정보에서 팔로잉 목록이 비어있을 경우 팔로잉 정보가 없다는 창을 띄운다
   
   * 팔로잉이 있을 경우 팔로잉 배열을 for문으로 돌며 얻은 팔로잉의 id로, 해당하는 팔로잉 유저의 프로필을 가져온다
   
   * 팔로잉 유저의 유저정보를 가져와 유저의 리뷰들을 따로 저장해두고, 또 그 리뷰들을 for문을 돈다. 각각의 리뷰가 달린 영화pk를 인덱스로 카운트배열에 점수를 더해준다.
   
   * 리뷰의 별이 5개이면 2점을 더하고, 리뷰의 별이 1개면 -2 점으로 순차적으로 점수를 매긴다.
   
   * 카운트 배열을 내림차순으로 정렬(점수가 가장 높은 영화 10개를 출력)하고 그에 해당하는 인덱스(영화pk)를 받은 리스트 생성.
   
   * 새리스트 상단 10개 안에 값 0 (해당 pk 존재 X)이 있을 경우, 0을 지운 새로운 배열 출력.

2. 웹을 이용하는 유저들이 좋아요를 가장 많이 누른 영화들을 홈에 출력
   
   * 홈이 created되는 시점에 영화 리스트를 불러오는 getMovieList() 함수를 실행하여 data에 필요한 영화 정보들 저장
   - 자식 Component에 v-for로 영화를 하나씩 내려보내준다
   
   - props로 부모로부터 영화를 받은 자식 컴포넌트에서 장고에서 미리 시리얼라이저로 꺼내둔 like_users를 가져온다.
   
   - like_users는 배열이므로 .length가 0이면 팔로잉이 없는 것 -> 팔로잉이 없다는 텍스트를 띄운 창 출력
   
   - 0이 아니면 좋아요를 유저들로부터 가장 많이 받은 영화들을 차례대로 출력

### 5. 서비스 대표 기능

* 영화 기반 커뮤니티 : 영화에 대한 후기 및 후기글에 대한 댓글을 남기며 유저간 소통을 한다.
* 팔로잉 유저 취향 기반 영화추천 : 후기가 본인과 잘 맞는 유저라면 팔로우하고 나의 팔로잉이 모여 팔로잉 유저들이 리뷰점수를 높게 준 영화들을 추천받는다. 

### 6. 시연영상

[Movsha 시연영상 - YouTube](https://youtu.be/7E0ob7r0SdM)
